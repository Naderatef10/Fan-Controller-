#include "adc.h"
#include "lcd.h"
#include "lm35_sensor.h"
#include "motor.h"

int main(){
	/*variable declarations and drivers configurations*/
	uint8 sensor_temp=0;
	ADC_ConfigType Sensor={INTERNAL_REF_VOLT,F_CPU_8};

	/*Drivers initilizations*/
	DcMotor_Init();
	LCD_init();
	ADC_init(&Sensor);

LCD_displayString("FAN IS ");
LCD_moveCursor(1,0);
LCD_displayString("Temp =  C ");

/*Application*/
	while(1){

		LCD_moveCursor(1,6);
		sensor_temp= LM35_GetTemperature();
		LCD_intgerToString(sensor_temp);
		if(sensor_temp < 30){
			DcMotor_Rotate(OFF,0);


		}
		else if(sensor_temp >=30 && sensor_temp <60){
			DcMotor_Rotate(CW,25);

		}

		else if(sensor_temp>=60 && sensor_temp <90){
			DcMotor_Rotate(CW,50);

		}
		else if(sensor_temp>=90 && sensor_temp <120){

			DcMotor_Rotate(CW,75);


		}
		else if(sensor_temp>=120){

			DcMotor_Rotate(CW,100);
		}


	}

}
